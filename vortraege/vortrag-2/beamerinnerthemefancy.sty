% Copyright 2007 by Marco Barisione
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Public License.

\mode<presentation>

% Use alternative title page style.
\DeclareOptionBeamer{alternativetitlepage}[true]{\def\beamer@fancy@alternativetitlepage{#1}}

% Logo to use in the alternative title page.
\def\beamer@fancy@titlepagelogo{}
\DeclareOptionBeamer{titlepagelogo}{\def\beamer@fancy@titlepagelogo{#1}}

% Bullet shape.
\DeclareOptionBeamer{bullet}{\def\beamer@fancy@bullet{#1}}

\ExecuteOptionsBeamer{alternativetitlepage=false,bullet=square}
\ProcessOptionsBeamer

% Colors.
\setbeamercolor*{lineup}{parent=palette primary}
\setbeamercolor*{linemid}{parent=palette secondary}
\setbeamercolor*{linebottom}{parent=palette tertiary}
\setbeamercolor*{linegrey}{parent=palette grey}
\setbeamercolor*{whitetext}{parent=palette white}
\setbeamercolor*{title page header}{parent=palette quaternary}

% Lengths.
\newlength{\beamer@fancy@lineup}
\setlength{\beamer@fancy@lineup}{.025\paperheight}
\newlength{\beamer@fancy@linemid}
\setlength{\beamer@fancy@linemid}{.015\paperheight}
\newlength{\beamer@fancy@linebottom}
\setlength{\beamer@fancy@linebottom}{.01\paperheight}

% Margins.
\newlength{\beamer@fancy@normalmargin}
\setlength{\beamer@fancy@normalmargin}{.06\paperwidth}
\setbeamersize{text margin left=\beamer@fancy@normalmargin}
\setbeamersize{text margin right=\beamer@fancy@normalmargin}
\setlength\leftmargini{.6\beamer@fancy@normalmargin}
\setlength\leftmarginii{.6\beamer@fancy@normalmargin}
\setlength\leftmarginiii{.6\beamer@fancy@normalmargin}


% Alternative title page, you should use this in a frame with the [plain]
% option.
\defbeamertemplate*{title page alternative}{fancy theme}[1][]
{
  {\parskip0pt\offinterlineskip%
  \hbox{\hskip-\Gm@lmargin\hbox{\vbox{%
  \@tempdima=\textwidth\textwidth=\paperwidth\hsize=\textwidth\def\\{,}\vbox{}\vskip-18.0ex%
    % Title.
    \begin{beamercolorbox}[wd=\paperwidth,ht=.42\paperheight,center,#1]{title page header}
      \begin{flushleft}
       \hspace{1.8ex}\usebeamerfont{title}\includegraphics[width=0.3\textwidth]{resource/uhh-logo.png}\par%
      \end{flushleft}
    \end{beamercolorbox}%
    \vbox{}\vskip-2.0ex
    % First line.
    \hbox{%
    \begin{beamercolorbox}[wd=\paperwidth,ht=0.01\paperheight,dp=0pt]{linebottom}%
    \end{beamercolorbox}%
    }%
    % Second line.
    \hbox{%
    \begin{beamercolorbox}[wd=\paperwidth,ht=0.010\paperheight,dp=0pt]{linemid}%
    \end{beamercolorbox}%
    }%
    % Third line.
    \hbox{%
    \begin{beamercolorbox}[wd=\paperwidth,ht=0.006\paperheight,dp=0pt]{linegrey}%
    \end{beamercolorbox}%
    }%
    % Fourth line.
    \hbox{%
    \begin{beamercolorbox}[wd=\paperwidth,ht=0.011\paperheight,dp=0pt]{white}%
    \tikz\draw[draw=none,left color=white,right color=uhh3] (0,0) rectangle (\paperwidth,0.012\paperheight);
    \end{beamercolorbox}%
    }%    
  }}}
  }\hfil%
  \begin{columns}
      \ifx\beamer@fancy@titlepagelogo\@empty%
          \column{\textwidth}
      \else
          \column{.5\textwidth}
          % Authors, institute and date
          \vskip1em\par
          \begin{beamercolorbox}[sep=8pt,center,#1]{palette white}
            \usebeamerfont{author}\insertauthor \\ \tiny\myEmail\par
          \end{beamercolorbox}
          \begin{beamercolorbox}[sep=8pt,center,#1]{palette white}
            \usebeamerfont{title}\usebeamercolor[fg]{subtitle}\small\inserttitle\par
          \end{beamercolorbox}
          \begin{beamercolorbox}[sep=8pt,center,#1]{palette white}
            \usebeamerfont{date}\insertdate
          \end{beamercolorbox}\vskip0.5em
          {\usebeamercolor[fg]{titlegraphic}\inserttitlegraphic\par}
          \column{.5\textwidth}
       \fi

  \end{columns}
}

\defbeamertemplate*{title page}{fancy}[1][]
{
  \def\beamer@fancy@truetext{true}%
  \usebeamertemplate{title page alternative}%
}

% Items.
\defbeamertemplate{itemize item}{squarealt}%
{\tiny\raise.5ex\hbox{\donotcoloroutermaths$\blacksquare$}}
\defbeamertemplate{itemize subitem}{squarealt}%
{\tiny\raise.4ex\hbox{\donotcoloroutermaths$\square$}}
\defbeamertemplate{itemize subsubitem}{squarealt}%
{\tiny\raise.3ex\hbox{\donotcoloroutermaths$\blacksquare$}}

\defbeamertemplate{itemize item}{circlealt}%
{\small\raise.2ex\hbox{\donotcoloroutermaths$\bullet$}}
\defbeamertemplate{itemize subitem}{circlealt}%
{\small\raise.1ex\hbox{\donotcoloroutermaths$\circ$}}
\defbeamertemplate{itemize subsubitem}{circlealt}%
{\scriptsize\raise.1ex\hbox{\donotcoloroutermaths$\bullet$}}

\def\circletext{circle}
\ifx\beamer@fancy@bullet\circletext
  \setbeamertemplate{items}[circlealt]
\else
  \setbeamertemplate{items}[squarealt]
\fi

\mode<all>

